# ğŸš€ TradingAgents - DeepSeek API é…ç½®æŒ‡å—

## ğŸ“‹ é¡¹ç›®ç®€ä»‹
TradingAgents æ˜¯ä¸€ä¸ªåŸºäºå¤šæ™ºèƒ½ä½“çš„è‚¡ç¥¨äº¤æ˜“åˆ†æç³»ç»Ÿï¼Œç°å·²å®Œå…¨æ”¯æŒ DeepSeek APIï¼Œä¸ºä¸­å›½ç”¨æˆ·æä¾›æ›´å¥½çš„ä½¿ç”¨ä½“éªŒã€‚

## ğŸ¯ DeepSeek API ä¼˜åŠ¿
- âœ… **ä¸­å›½ç”¨æˆ·å‹å¥½**: æ”¯æŒä¸­æ–‡ç•Œé¢å’Œäººæ°‘å¸å……å€¼
- âœ… **ä»·æ ¼å®æƒ **: ç›¸æ¯”å›½å¤–APIæœåŠ¡æ›´ä¾¿å®œ
- âœ… **æ€§èƒ½ä¼˜ç§€**: åŸºäºè‡ªç ”å¤§æ¨¡å‹ï¼Œæ”¯æŒå·¥å…·è°ƒç”¨
- âœ… **ç¨³å®šå¯é **: å›½å†…è®¿é—®é€Ÿåº¦å¿«ï¼Œæ— éœ€ç¿»å¢™

## ğŸ› ï¸ å¿«é€Ÿé…ç½®æ­¥éª¤

### 1. è·å– DeepSeek API å¯†é’¥
1. è®¿é—® [DeepSeek Platform](https://platform.deepseek.com/)
2. æ³¨å†Œè´¦æˆ·å¹¶å®Œæˆå®åè®¤è¯
3. åœ¨æ§åˆ¶å°åˆ›å»º API å¯†é’¥
4. å……å€¼è´¦æˆ·ä½™é¢ï¼ˆå»ºè®®10-20å…ƒèµ·æ­¥ï¼‰

### 2. é…ç½®ç¯å¢ƒå˜é‡
ç¼–è¾‘é¡¹ç›®æ ¹ç›®å½•çš„ `.env` æ–‡ä»¶ï¼š
```bash
# Alpha Vantage API Key (è‚¡ç¥¨æ•°æ®ï¼Œå…è´¹)
ALPHA_VANTAGE_API_KEY=52N6YLT15MUAA46B

# DeepSeek API Key (æ›¿æ¢ä¸ºä½ çš„çœŸå®å¯†é’¥)
DEEPSEEK_API_KEY=your_deepseek_api_key_here
```

### 3. æµ‹è¯• API è¿æ¥
```bash
# æµ‹è¯• DeepSeek API è¿æ¥
python test_deepseek_api.py
```

### 4. è¿è¡Œè‚¡ç¥¨åˆ†æ
```bash
# ä½¿ç”¨ DeepSeek è¿›è¡Œè‚¡ç¥¨åˆ†æ
python main_deepseek.py

# æˆ–ä½¿ç”¨ CLI ç•Œé¢
python -m cli.main
```

## ğŸ“Š æ”¯æŒçš„åŠŸèƒ½

### æ ¸å¿ƒåˆ†ææ¨¡å—
- ğŸª **å¸‚åœºåˆ†æå¸ˆ**: æŠ€æœ¯æŒ‡æ ‡åˆ†æå’Œå¸‚åœºè¶‹åŠ¿åˆ¤æ–­
- ğŸ“° **æ–°é—»åˆ†æå¸ˆ**: æ–°é—»æƒ…æ„Ÿåˆ†æå’Œå¸‚åœºå½±å“è¯„ä¼°  
- ğŸ“ˆ **åŸºæœ¬é¢åˆ†æå¸ˆ**: è´¢åŠ¡æ•°æ®å’Œå…¬å¸ä¼°å€¼åˆ†æ
- ğŸ’¬ **ç¤¾äº¤åª’ä½“åˆ†æå¸ˆ**: ç¤¾äº¤åª’ä½“æƒ…ç»ªå’Œçƒ­åº¦åˆ†æ

### æ•°æ®æº
- ğŸ“Š **è‚¡ä»·æ•°æ®**: Yahoo Finance (å…è´¹)
- ğŸ“° **æ–°é—»æ•°æ®**: Alpha Vantage API
- ğŸ“ˆ **æŠ€æœ¯æŒ‡æ ‡**: è‡ªåŠ¨è®¡ç®—å¤šç§æŠ€æœ¯æŒ‡æ ‡
- ğŸ¢ **åŸºæœ¬é¢æ•°æ®**: Alpha Vantage API

## ğŸš€ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

```python
from tradingagents.graph.trading_graph import TradingAgentsGraph
from dotenv import load_dotenv

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

# é…ç½® DeepSeek
config = {
    "llm_provider": "deepseek",
    "deep_think_llm": "deepseek-chat", 
    "quick_think_llm": "deepseek-chat",
    "backend_url": "https://api.deepseek.com/v1"
}

# åˆå§‹åŒ–ç³»ç»Ÿ
ta = TradingAgentsGraph(config=config)

# åˆ†æè‚¡ç¥¨
_, decision = ta.propagate("AAPL", "2024-05-10")
print(decision)
```

## ğŸ’° æˆæœ¬ä¼°ç®—

### DeepSeek API å®šä»·
- **è¾“å…¥**: Â¥0.0014/1K tokens  
- **è¾“å‡º**: Â¥0.0028/1K tokens
- **å•æ¬¡åˆ†æ**: çº¦ Â¥0.05-0.20 (æ ¹æ®åˆ†ææ·±åº¦)
- **æ—¥å¸¸ä½¿ç”¨**: Â¥10-50/æœˆ (ä¸­ç­‰ä½¿ç”¨é¢‘ç‡)

### å¯¹æ¯”ä¼ ç»Ÿ API
- **OpenAI GPT-4**: çº¦è´µ 10-20 å€
- **Claude**: çº¦è´µ 15-25 å€
- **Gemini**: çº¦è´µ 8-15 å€

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. API å¯†é’¥é”™è¯¯**
```bash
âŒ DeepSeek APIå¯†é’¥æœªè®¾ç½®
è§£å†³: æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„ DEEPSEEK_API_KEY
```

**2. ä½™é¢ä¸è¶³**
```bash
âŒ APIè°ƒç”¨å¤±è´¥: insufficient balance
è§£å†³: åœ¨ DeepSeek å¹³å°å……å€¼è´¦æˆ·
```

**3. ç½‘ç»œè¿æ¥é—®é¢˜**
```bash
âŒ è¿æ¥è¶…æ—¶
è§£å†³: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œæˆ–ä½¿ç”¨å›½å†…ç½‘ç»œ
```

**4. æ¨¡å‹ä¸æ”¯æŒå·¥å…·è°ƒç”¨**
```bash
âš ï¸ æŸäº›åŠŸèƒ½å¯èƒ½å—é™
è§£å†³: ç¡®ä¿ä½¿ç”¨ deepseek-chat æ¨¡å‹
```

### è°ƒè¯•å‘½ä»¤
```bash
# æµ‹è¯• API è¿æ¥
python test_deepseek_api.py

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
python main_deepseek.py --debug

# æµ‹è¯•å•ä¸ªç»„ä»¶
python -c "from tradingagents.dataflows.openai import get_stock_news_openai; print('OK')"
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **åˆç†ä½¿ç”¨æ¨¡å‹**
   - å¿«é€Ÿåˆ†æä½¿ç”¨ `deepseek-chat`
   - æ·±åº¦æ€è€ƒä½¿ç”¨ `deepseek-chat`

2. **æ§åˆ¶ Token ä½¿ç”¨**
   - è®¾ç½®åˆç†çš„ `max_tokens` é™åˆ¶
   - ä¼˜åŒ– prompt é•¿åº¦

3. **æ‰¹é‡å¤„ç†**
   - ä¸€æ¬¡åˆ†æå¤šåªè‚¡ç¥¨
   - ç¼“å­˜é‡å¤æŸ¥è¯¢ç»“æœ

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤š DeepSeek æ¨¡å‹ (deepseek-coder, deepseek-math)
- [ ] æ·»åŠ ä¸­æ–‡æç¤ºè¯ä¼˜åŒ–
- [ ] é›†æˆ DeepSeek çš„æ¨ç†é“¾åŠŸèƒ½
- [ ] æ”¯æŒæµå¼è¾“å‡ºæ˜¾ç¤ºåˆ†æè¿‡ç¨‹

## ğŸ’¬ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ğŸ“– æœ¬é…ç½®æŒ‡å—
2. ğŸ”§ è¿è¡Œ `test_deepseek_api.py`
3. ğŸ“‹ æŸ¥çœ‹ç»ˆç«¯é”™è¯¯æ—¥å¿—
4. ğŸŒ è®¿é—® [DeepSeek å®˜æ–¹æ–‡æ¡£](https://platform.deepseek.com/api-docs/)

---

**ğŸ‰ æ­å–œï¼ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨ DeepSeek API è¿›è¡Œä¸“ä¸šçš„è‚¡ç¥¨äº¤æ˜“åˆ†æäº†ï¼**